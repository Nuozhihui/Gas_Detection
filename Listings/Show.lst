C51 COMPILER V9.60.0.0   SHOW                                                              05/03/2022 04:36:40 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE SHOW
OBJECT MODULE PLACED IN .\Objects\Show.obj
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE Library\Show\Show.c COMPACT OPTIMIZE(8,SPEED) BROWSE INCDIR(.\Library\ADC;.
                    -\Library\DHT11;.\Library\LCD;.\Library\STEP;.\Library\Show;.\Library\KEY;.\Library\MAX6675;.\Library\SIM800C) DEBUG OBJE
                    -CTEXTEND PRINT(.\Listings\Show.lst) TABS(2) OBJECT(.\Objects\Show.obj)

line level    source

   1          #include "Show.h"
   2          #include "lcd.h"
   3          #include "dht11.h"
   4          #include<intrins.h>
   5          #include<stdio.h>
   6          #include "Gas.h"
   7          #include "SIM800C.h"
   8          #include "MAX6675.h"
   9          extern unsigned char key_switch_f;
  10          extern unsigned char key_state;   //状态
  11          
  12          //----------------DHT11数据变量区-------------------------------
  13          unsigned int rec_dat[4];
  14          unsigned char rec_dat_lcd0[6];
  15          unsigned char rec_dat_lcd1[6];
  16          unsigned char rec_dat_lcd2[6];
  17          unsigned char rec_dat_lcd3[6];
  18          
  19          
  20          
  21          sbit BEEP=P2^3;
  22          //初始化
  23          void Show_iint()
  24          {
  25   1        
  26   1        InitLcd1602();            //初始化LCD
  27   1        LcdShowStr(0,0,"GAS:"); //更新画面
  28   1        
  29   1        LcdShowStr(0,1,"Temp:");  //更新画面
  30   1        
  31   1      }
  32          
  33          unsigned int Gas_val=0;
  34          unsigned int MAX6675_val=0;
  35          unsigned char Ignition_State=0;   //0:未升到指定温度    1:已到达指定温度  
  36          unsigned char Note_State=0;   
  37          //显示
  38          void Show()
  39          {
  40   1        
  41   1          Gas_val=gx_Gas();//热偶
  42   1           MAX6675_val=REDE_MAX6675();  //热偶
  43   1          DHT11_delay_ms(20);
  44   1          DHT11_receive();
  45   1      
  46   1        
  47   1          //空气
  48   1          sprintf(rec_dat_lcd0,"%d",  Gas_val);
  49   1      
  50   1          DHT11_delay_ms(13);
  51   1          LcdShowStr(6,0,"           ");
  52   1          LcdShowStr(6,0,rec_dat_lcd0);
  53   1      
C51 COMPILER V9.60.0.0   SHOW                                                              05/03/2022 04:36:40 PAGE 2   

  54   1          
  55   1        
  56   1          //温度
  57   1          sprintf(rec_dat_lcd2,"%d",rec_dat[0]);
  58   1          sprintf(rec_dat_lcd3,"%d",rec_dat[1]);
  59   1          DHT11_delay_ms(13);
  60   1        
  61   1          //热偶
  62   1          sprintf(rec_dat_lcd1,"%d",MAX6675_val);
  63   1      
  64   1          LcdShowStr(12,0,rec_dat_lcd1);
  65   1          
  66   1          LcdShowStr(6,1,rec_dat_lcd2);
  67   1          LcdShowStr(8,1,".");
  68   1          LcdShowStr(9,1,rec_dat_lcd3);
  69   1          LcdShowStr(10,1," %");
  70   1      
  71   1          
  72   1          if( Gas_val>150 || rec_dat[0]>80)
  73   1          {
  74   2            
  75   2            BEEP=0;
  76   2            
  77   2          }else{
  78   2            
  79   2            BEEP=1;
  80   2          }
  81   1          
  82   1          if(MAX6675_val>80)
  83   1          {
  84   2            Ignition_State=1;
  85   2            if(Note_State==0)
  86   2      //      sendMessage(phoneNumber,msg);   //发送短信
  87   2            
  88   2              Note_State=1;
  89   2            }
  90   1            
  91   1            
  92   1        
  93   1          
  94   1            if(Ignition_State==1)
  95   1          {
  96   2            
  97   2            if(MAX6675_val<35)
  98   2            {
  99   3            key_state=2;
 100   3            key_switch_f =2;
 101   3            Ignition_State=0;
 102   3            
 103   3            }
 104   2            
 105   2          }
 106   1        
 107   1      }
 108            


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    388    ----
   CONSTANT SIZE    =     31    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =     38    ----
C51 COMPILER V9.60.0.0   SHOW                                                              05/03/2022 04:36:40 PAGE 3   

   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
